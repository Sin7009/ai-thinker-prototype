# AI Thinker: Когнитивная Архитектура Гибридного Разума

**AI Thinker** — это система когнитивного моделирования, а не просто чат-бот. Проект реализует архитектуру «Гибридного Разума». Он разделяет управление диалогом и процесс генерации мышления. Система выступает методологическим партнером. Она диагностирует когнитивные искажения пользователя и применяет техники мышления для решения сложных задач.

## Философия и Научная База

Стандартные LLM работают линейно и реактивно. AI Thinker работает по принципу **двухконтурной архитектуры**:

1.  **Внешний контур (Исполнение):** Это режим «Копилот». Агент дает прямые ответы и выполняет команды. Он использует кратковременную память для удержания контекста.
2.  **Внутренний контур (Рефлексия):** Это режим «Партнер». Оркестратор анализирует состояние диалога. Детектор ищет ошибки мышления в фоновом режиме. Система переключает стратегии ведения диалога на основе психометрических данных.

## Ключевые Возможности

### 1\. Психолингвистическая диагностика

Система анализирует текст пользователя в реальном времени. Специализированный `DetectorAgent` выявляет когнитивные искажения, такие как «Катастрофизация» или «Черно-белое мышление». Он также определяет эмоциональный тон и стиль коммуникации. Это происходит скрыто и не прерывает прямой диалог.

### 2\. Динамический профиль личности

Мы не просто храним историю переписки. Система строит структурированный профиль пользователя в базе данных SQLite. Она фиксирует устойчивые паттерны мышления и черты характера. Эти данные используются для персонализации ответов в будущих сессиях.

### 3\. Гибридная память (RAG + SQL)

Проект решает проблему «забывания» важных деталей.

  * **ChromaDB:** Векторное хранилище обеспечивает семантический поиск по всей истории диалогов. Это дает контекстную связность.
  * **SQLite:** Реляционная база хранит факты, статистику искажений и психометрический профиль. Это обеспечивает точность аналитики.

### 4\. Библиотека мыслительных техник

В режиме «Партнер» система не дает готовых советов. Она проводит пользователя через алгоритмы решения проблем:

  * **Метод Утенка:** Для дебаггинга и структурирования мыслей.
  * **5 Почему:** Для поиска корневых причин проблем.
  * **Мозговой штурм с ограничениями:** Для преодоления творческого тупика.

## Техническая Архитектура

Система написана на **Python**. В качестве ядра используется **GigaChat Pro** и фреймворк **LangChain**.

### Основные модули

  * **Orchestrator:** Центральный автомат состояний. Он принимает ввод, вызывает диагностику и выбирает нужного агента.
  * **Agents:** Набор специализированных моделей. `TaskAgent` отвечает за диалог. `MethodologyAgent` ведет по техникам мышления. `DetectorAgent` классифицирует искажения.
  * **DynamicMemory:** Модуль управления памятью. Он решает, что важно сохранить, а что можно забыть. Он синхронизирует векторную и реляционную базы данных.

## Установка и Запуск

### Требования

  * Python 3.8+
  * Доступ к API GigaChat

### Инструкция

1.  **Клонирование:**

    ```bash
    git clone https://github.com/your-username/ai-thinker-prototype.git
    cd ai-thinker-prototype
    ```

2.  **Зависимости:**

    ```bash
    pip install -r requirements.txt
    ```

3.  **Настройка:**
    Создайте переменную окружения с ключом авторизации:

    ```bash
    export GIGACHAT_CREDENTIALS='ваш_ключ_авторизации'
    ```

4.  **Запуск:**

    ```bash
    python main.py
    ```

    При первом запуске система автоматически создаст необходимые базы данных (`agent_memory.db` и `chroma_storage`).

## Управление

Взаимодействие происходит через консольный интерфейс (CLI).

  * `/copilot` — Режим ассистента (по умолчанию). Прямые ответы.
  * `/partner` — Режим методолога. Совместное рассуждение и применение техник.
  * `/memory` — Показать психометрический профиль пользователя.
  * `/reset` — Сброс контекста текущей сессии.
  * `/exit` — Завершение работы с сохранением аналитики сессии.

-----

Project by Konstantin Knyazev. 2025.
